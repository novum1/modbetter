---
// Last updated: 2026-02-05 01:25:00
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
import Nav from "../components/Nav.astro";

const posts = await getCollection("blog");

// Top posts by traffic (from GSC data)
const topSlugs = [
  "how-to-build-a-backyard-oasis-with-a-2-shipping-container-garage",
  "how-to-create-the-perfect-backyard-shipping-container-man-cave-in-2023",
  "shipping-container-coffee-shop-ideas",
  "how-to-finance-a-container-home",
  "from-shipping-to-sipping-unleashing-the-magic-of-container-bars",
  "shipping-container-offices",
];

const featuredPosts = topSlugs
  .map((slug) => posts.find((p) => p.data.slug === slug))
  .filter(Boolean);
---

<BaseLayout
  title="ModBetter"
  description="Everything you need to know about shipping container conversions. Garages, offices, coffee shops, and more."
>
  <Nav />
  <main>
    <section class="hero">
      <h1>Everything you need to know about shipping container conversions.</h1>
      <p>
        Garages, offices, coffee shops, restaurants, man caves, and more.
        Real costs, real projects, practical guides.
      </p>
    </section>

    <section class="featured">
      <h2>Popular Guides</h2>
      <div class="post-grid">
        {featuredPosts.map((post) => (
          <a href={`/blog/${post.data.slug}/`} class="post-card">
            <h3>{post.data.title}</h3>
            <p>{post.data.description.slice(0, 120)}...</p>
          </a>
        ))}
      </div>
      <p class="more">
        <a href="/blog/">View all articles →</a>
      </p>
    </section>

    <section class="topics">
      <h2>What We Cover</h2>
      <ul>
        <li><strong>Container Garages</strong> — Foundations, doors, costs, and conversion guides.</li>
        <li><strong>Coffee Shops & Restaurants</strong> — Permits, layouts, and design ideas.</li>
        <li><strong>Offices & Workspaces</strong> — Backyard offices, commercial builds, remote setups.</li>
        <li><strong>Man Caves</strong> — Bars, workshops, retreats.</li>
        <li><strong>Financing</strong> — How to pay for a container project.</li>
      </ul>
    </section>
  </main>
</BaseLayout>

<style>
  main {
    max-width: 800px;
    margin: 0 auto;
    padding: 0 1rem 4rem;
  }

  .hero {
    padding: 2rem 0 3rem;
  }

  .hero h1 {
    font-size: 2rem;
    line-height: 1.2;
    margin-bottom: 1rem;
  }

  .hero p {
    font-size: 1.1rem;
    line-height: 1.6;
    color: #444;
  }

  .featured {
    padding: 2rem 0;
    border-top: 1px solid #eee;
  }

  .featured h2 {
    margin-bottom: 1.5rem;
  }

  .post-grid {
    display: grid;
    gap: 1.5rem;
  }

  @media (min-width: 600px) {
    .post-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .post-card {
    display: block;
    padding: 1.25rem;
    border: 1px solid #ddd;
    border-radius: 8px;
    text-decoration: none;
    color: inherit;
    transition: border-color 0.2s;
  }

  .post-card:hover {
    border-color: #000;
  }

  .post-card h3 {
    font-size: 1rem;
    margin-bottom: 0.5rem;
    line-height: 1.3;
  }

  .post-card p {
    font-size: 0.875rem;
    color: #666;
    line-height: 1.5;
    margin: 0;
  }

  .more {
    margin-top: 1.5rem;
  }

  .more a {
    color: #000;
  }

  .topics {
    padding: 2rem 0;
    border-top: 1px solid #eee;
  }

  .topics h2 {
    margin-bottom: 1rem;
  }

  .topics ul {
    list-style: none;
    padding: 0;
  }

  .topics li {
    padding: 0.75rem 0;
    border-bottom: 1px solid #eee;
    line-height: 1.5;
  }

  .topics li:last-child {
    border-bottom: none;
  }
</style>
